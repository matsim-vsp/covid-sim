(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["V1"],{3033:function(e,t,a){},"370e":function(e,t,a){"use strict";var n=a("8088"),r=a.n(n);r.a},"3f43":function(e,t,a){"use strict";var n=a("3033"),r=a.n(n);r.a},"43cd":function(e,t,a){"use strict";var n=a("f9ec"),r=a.n(n);r.a},8088:function(e,t,a){},"9c78":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[e._m(0),a("section-viewer",{staticClass:"viewer",attrs:{state:e.state}}),e._m(1)],1)},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content"},[a("h2",[e._v("Mobility traces and the spreading of COVID-19")]),a("p",[a("a",{attrs:{href:"https://dx.doi.org/10.14279/depositonce-9835"}},[e._v("https://dx.doi.org/10.14279/depositonce-9835")]),a("br"),a("a",{attrs:{href:"mailto:mueller@vsp.tu-berlin.de"}},[e._v("Sebastian Alexander Müller, ")]),a("a",{attrs:{href:"mailto:michael.balmer@senozon.com"}},[e._v("Michael Balmer, ")]),a("a",{attrs:{href:"mailto:andreas.neumann@senozon.com"}},[e._v("Andreas Neumann, ")]),a("a",{attrs:{href:"mailto:nagel@vsp.tu-berlin.de"}},[e._v("Kai Nagel")]),a("br"),a("a",{attrs:{href:"https://vsp.tu-berlin.de/"}},[e._v("VSP Technische Universität Berlin")]),e._v(" | "),a("a",{attrs:{href:"https://senozon.com/"}},[e._v("Senozon AG")])]),a("p",[e._v("We use human mobility models, for which we are experts, and attach virus infection dynamics taken from the literature, including recent publications. This results in a virus spreading dynamics model. The results should be verified but because of the current time pressure, we publish them in their current state. Recommendations for improvement are welcome.")]),a("p",[e._v("The simulations begin on Day 0, with 40 infected individuals in the population. The outcomes below examine consequences of starting various interventions a number of days after the simulation starts.")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"footer"},[n("img",{attrs:{alt:"TU-Berlin logo",src:a("cf05"),width:"225"}}),n("img",{attrs:{alt:"MATSim logo",src:a("b65e"),width:"250"}}),n("p",[e._v("COVID-19 Scenario Viewer, © 2020 VSP TU-Berlin")]),n("p",[e._v("For more info, see"),n("a",{attrs:{href:"https://www.vsp.tu-berlin.de"}},[e._v(" https://vsp.tu-berlin.de")])])])}],i=(a("a4d3"),a("e01a"),a("d28b"),a("a630"),a("c975"),a("b64b"),a("d3b7"),a("6062"),a("3ca3"),a("ddb0"),a("96cf"),a("1da1")),s=a("d4ec"),o=a("bee2"),u=a("99de"),c=a("7e84"),l=a("262e"),d=a("9ab4"),h=a("369b"),p=a.n(h),v=a("60a3"),f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"main-section"}},[a("div",{staticClass:"pieces"},[a("div",{staticClass:"sliders"},[a("h5",[e._v("Intervention Options")]),a("p",{staticClass:"subhead"},[e._v("Days after outbreak begins:")]),e._l(Object.keys(e.state.measures),(function(t){return a("div",{key:t,staticClass:"myslider"},[a("my-slider",{attrs:{measure:t,state:e.state},on:{changed:e.sliderChanged}})],1)}))],2),a("vue-plotly",{staticClass:"plot1",attrs:{data:e.data,layout:e.layout,options:e.options}}),a("vue-plotly",{staticClass:"plot2",attrs:{data:e.data,layout:e.loglayout,options:e.options}})],1)])},b=[],m=(a("d81d"),a("fb6a"),a("43e0")),y=a.n(m),g=a("3bba"),k=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"slider-thing"}},[a("vue-slide-bar",{staticClass:"my-slider",attrs:{speed:0,data:e.stops},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}),a("p",[e._v(e._s(e.measure))])],1)},x=[],w=a("b68d"),O=a.n(w),j=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(u["a"])(this,Object(c["a"])(t).apply(this,arguments)),e.value=0,e.stops=[0,1e3],e}return Object(l["a"])(t,e),Object(o["a"])(t,[{key:"mounted",value:function(){var e=[],t=!0,a=!1,n=void 0;try{for(var r,i=this.state.measures[this.measure][Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var s=r.value;e.push(1e3===s?"Never":s)}}catch(o){a=!0,n=o}finally{try{t||null==i.return||i.return()}finally{if(a)throw n}}this.stops=e,this.value="Never"}},{key:"valueChanged",value:function(){var e=this.value;"Never"===e&&(e=1e3),this.$emit("changed",this.measure,e)}}]),t}(v["c"]);d["a"]([Object(v["b"])()],j.prototype,"state",void 0),d["a"]([Object(v["b"])()],j.prototype,"measure",void 0),d["a"]([Object(v["d"])("value")],j.prototype,"valueChanged",null),j=d["a"]([Object(v["a"])({components:{VueSlideBar:O.a}})],j);var S=j,C=S,R=(a("370e"),a("2877")),_=Object(R["a"])(C,k,x,!1,null,"4ec9ccae",null),I=_.exports,D=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(u["a"])(this,Object(c["a"])(t).apply(this,arguments)),e.currentRun={},e.data=[],e.layout={title:{text:"Status of simulated residents vs. days"},legend:{orientation:"h"},autosize:!0,height:500,font:{family:"Roboto,Arial,Helvetica,sans-serif",size:12,color:"#000"},yaxis:{autorange:!0},xaxis:{}},e.loglayout={title:"Log scale:",autosize:!0,legend:{orientation:"h"},height:500,font:{family:"Roboto,Arial,Helvetica,sans-serif",size:12,color:"#000"},yaxis:{type:"log",autorange:!0},xaxis:{}},e.options={displayModeBar:!1},e.currentSituation={},e.loadedSeriesData={},e.labels={nSusceptible:"Susceptible",nInfectedButNotContagious:"Infected, not contagious",nContagious:"Contagious",nSeriouslySick:"Seriously Sick",nCritical:"Critical",nTotalInfected:"Total Infected",nInfectedCumulative:"Infected Cumulative",nRecovered:"Recovered",nInQuarantine:"In Quarantine"},e}return Object(l["a"])(t,e),Object(o["a"])(t,[{key:"mounted",value:function(){this.loadZipData()}},{key:"loadZipData",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.zipLoader=new g["a"]("/v1-data.zip"),e.next=3,this.zipLoader.load();case 3:console.log("zip loaded!"),this.runChanged();case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"runChanged",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.log({run:this.currentRun}),!this.loadedSeriesData[this.currentRun.RunId]){e.next=4;break}return this.data=this.loadedSeriesData[this.currentRun.RunId],e.abrupt("return");case 4:return e.next=6,this.loadCSV(this.currentRun);case 6:t=e.sent,a=this.generateSeriesFromCSVData(t),this.loadedSeriesData[this.currentRun.RunId]=a,this.data=a;case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"sliderChanged",value:function(e,t){this.currentSituation[e]=t,this.showPlotForCurrentSituation()}},{key:"showPlotForCurrentSituation",value:function(){for(var e="",t=0,a=Object.keys(this.state.measures);t<a.length;t++){var n=a[t];e+=this.currentSituation[n]+"-"}this.currentRun=this.state.runLookup[e],this.currentRun&&this.runChanged()}},{key:"unpack",value:function(e,t){var a=e.map((function(e){return"day"===t?e[t]:4*e[t]}));return a=a.slice(0,150),a}},{key:"loadCSV",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var a,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.RunId){e.next=2;break}return e.abrupt("return",[]);case 2:return a=t.RunId+".infections.txt",console.log("Extracting",a),n=this.zipLoader.extractAsText(a),r=p.a.parse(n,{header:!0,dynamicTyping:!0}),e.abrupt("return",r.data);case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"generateSeriesFromCSVData",value:function(e){for(var t=[],a=this.unpack(e,"day"),n=0,r=Object.keys(this.labels);n<r.length;n++){var i=r[n],s=this.labels[i],o=this.unpack(e,i);t.push({x:a,y:o,name:s})}return t}}]),t}(v["c"]);d["a"]([Object(v["b"])()],D.prototype,"state",void 0),D=d["a"]([Object(v["a"])({components:{MySlider:I,VuePlotly:y.a}})],D);var z=D,T=z,V=(a("43cd"),Object(R["a"])(T,f,b,!1,null,"4c990a9a",null)),A=V.exports,L=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(u["a"])(this,Object(c["a"])(t).apply(this,arguments)),e.state={measures:{},runLookup:{}},e}return Object(l["a"])(t,e),Object(o["a"])(t,[{key:"mounted",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.loadIndexData();case 2:return t=e.sent,e.next=5,this.generateScenarioMatrix(t);case 5:e.sent;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"loadIndexData",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("fetching data"),e.next=3,fetch("/v1-info.txt");case 3:return t=e.sent,e.next=6,t.text();case 6:return a=e.sent,n=p.a.parse(a,{header:!0,dynamicTyping:!0}),console.log({parsed:n.data}),e.abrupt("return",n.data);case 10:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"generateScenarioMatrix",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var a,n,r,i,s,o,u,c,l,d,h,p,v,f,b,m,y,g,k,x,w,O;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log("generating lookups"),a={},n={},r=["Config","Output","RunId","RunScript"],i=0,s=Object.keys(t[0]);case 5:if(!(i<s.length)){e.next=13;break}if(o=s[i],!(r.indexOf(o)>-1)){e.next=9;break}return e.abrupt("continue",10);case 9:a[o]=new Set;case 10:i++,e.next=5;break;case 13:u=!0,c=!1,l=void 0,e.prev=16,d=t[Symbol.iterator]();case 18:if(u=(h=d.next()).done){e.next=29;break}if(p=h.value,p.RunId){e.next=22;break}return e.abrupt("continue",26);case 22:for(v=0,f=Object.keys(a);v<f.length;v++)b=f[v],p[b]&&a[b].add(p[b]);for(m="",y=0,g=Object.keys(a);y<g.length;y++)k=g[y],m+=p[k]+"-";n[m]=p;case 26:u=!0,e.next=18;break;case 29:e.next=35;break;case 31:e.prev=31,e.t0=e["catch"](16),c=!0,l=e.t0;case 35:e.prev=35,e.prev=36,u||null==d.return||d.return();case 38:if(e.prev=38,!c){e.next=41;break}throw l;case 41:return e.finish(38);case 42:return e.finish(35);case 43:for(x=0,w=Object.keys(a);x<w.length;x++)O=w[x],a[O]=Array.from(a[O].keys()).sort((function(e,t){return e-t}));console.log({measures:a,runLookup:n}),this.state.measures=a,this.state.runLookup=n;case 47:case"end":return e.stop()}}),e,this,[[16,31,35,43],[36,,38,42]])})));function t(t){return e.apply(this,arguments)}return t}()}]),t}(v["c"]);L=d["a"]([Object(v["a"])({components:{SectionViewer:A}})],L);var M=L,B=M,E=(a("3f43"),Object(R["a"])(B,n,r,!1,null,"efb3278e",null));t["default"]=E.exports},f9ec:function(e,t,a){}}]);