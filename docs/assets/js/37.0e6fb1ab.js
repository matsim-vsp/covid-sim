(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{503:function(e,t,s){"use strict";s.r(t);var a=s(69),r=Object(a.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"covid-episim-website"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#covid-episim-website"}},[e._v("#")]),e._v(" COVID Episim Website")]),e._v(" "),t("img",{attrs:{src:"https://github.com/matsim-vsp/covid-sim/raw/master/src/assets/images/readme-banner.jpg",alt:"EpiSim",width:"100%"}}),e._v(" "),t("p",[e._v("This repo contains the visualization website for MATSim/EpiSim, available at "),t("a",{attrs:{href:"https://covid-sim.info",target:"_blank",rel:"noopener noreferrer"}},[e._v("covid-sim.info"),t("OutboundLink")],1),e._v(". See that website for information on the use of MATSim for COVID-19 disease propagation, given various measures for combating its spread.")]),e._v(" "),t("p",[e._v("This README details build instructions for the website itself.")]),e._v(" "),t("h2",{attrs:{id:"project-pre-requisites"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#project-pre-requisites"}},[e._v("#")]),e._v(" Project pre-requisites")]),e._v(" "),t("p",[e._v("The site uses npm and yarn, and was developed using VS Code.")]),e._v(" "),t("ul",[t("li",[e._v("You should install VS Code, npm, and yarn first.")]),e._v(" "),t("li",[e._v("All code is TypeScript and shall remain so.")])]),e._v(" "),t("p",[e._v("The following VS Code plugins are used:")]),e._v(" "),t("ul",[t("li",[e._v("Prettier to force code style consistencey")]),e._v(" "),t("li",[e._v("Vetur, for Vuejs support. This site is a "),t("a",{attrs:{href:"https://vuejs.org",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue"),t("OutboundLink")],1),e._v(" SPA.")]),e._v(" "),t("li",[e._v("Shader languages support")])]),e._v(" "),t("h2",{attrs:{id:"foundational-technologies"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#foundational-technologies"}},[e._v("#")]),e._v(" Foundational technologies")]),e._v(" "),t("p",[e._v("You will need to know this tech in order to hack on this website:")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://typescriptlang.org",target:"_blank",rel:"noopener noreferrer"}},[e._v("TypeScript"),t("OutboundLink")],1),e._v(" - typesafe JavaScript")]),e._v(" "),t("li",[t("a",{attrs:{href:"https://vuejs.org",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue"),t("OutboundLink")],1),e._v(" - the glue that connects UI elements to code. Similar to React but lightweight and awesome")]),e._v(" "),t("li",[t("a",{attrs:{href:"https://threejs.org",target:"_blank",rel:"noopener noreferrer"}},[e._v("ThreeJS"),t("OutboundLink")],1),e._v(" - WebGL library for the fancy animations.")]),e._v(" "),t("li",[t("a",{attrs:{href:"https://pugjs.org",target:"_blank",rel:"noopener noreferrer"}},[e._v("Pug"),t("OutboundLink")],1),e._v(" - the template language used in Vue files. Pug uses Python-style indentation instead of open/close XML tags, which makes it far easier to read than bare HTML.")])]),e._v(" "),t("h2",{attrs:{id:"first-time-install"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#first-time-install"}},[e._v("#")]),e._v(" First time install")]),e._v(" "),t("p",[e._v("One line fetches everything from the npm database:")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("yarn install\n")])])]),t("h2",{attrs:{id:"development-commands"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#development-commands"}},[e._v("#")]),e._v(" Development Commands")]),e._v(" "),t("h3",{attrs:{id:"compiling-and-hot-reloads-during-development"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#compiling-and-hot-reloads-during-development"}},[e._v("#")]),e._v(" Compiling and hot-reloads during development")]),e._v(" "),t("p",[e._v("This command runs a local server with hot reload for testing, usually listens on http://localhost:8080")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("yarn serve\n")])])]),t("h3",{attrs:{id:"compiles-and-minifies-for-production"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#compiles-and-minifies-for-production"}},[e._v("#")]),e._v(" Compiles and minifies for production")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("yarn build\n")])])]),t("h3",{attrs:{id:"run-your-unit-tests"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#run-your-unit-tests"}},[e._v("#")]),e._v(" Run your unit tests")]),e._v(" "),t("p",[e._v("Well... I have not written tests but the infrastructure is there to use "),t("code",[e._v("jest")]),e._v(".")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("yarn test:unit\n")])])]),t("h3",{attrs:{id:"pushing-to-the-live-site"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#pushing-to-the-live-site"}},[e._v("#")]),e._v(" Pushing to the live site")]),e._v(" "),t("p",[e._v("Travis-CI is configured to automatically build the site with "),t("strong",[e._v("every push to master")]),e._v(", so don't push to master until you are ready for your code to go live.")]),e._v(" "),t("ul",[t("li",[e._v("Travis config is in "),t("code",[e._v(".travis.yml")])])]),e._v(" "),t("h3",{attrs:{id:"issues"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#issues"}},[e._v("#")]),e._v(" Issues")]),e._v(" "),t("p",[e._v("I (kn) need to fix the npm version on something older.  The command is")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("nvm use --lts\n")])])]),t("p",[e._v("Needed to install "),t("code",[e._v("nvm")]),e._v(" to make this work.  Can't remember how I did that; possibly through macports.")]),e._v(" "),t("h2",{attrs:{id:"project-layout"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#project-layout"}},[e._v("#")]),e._v(" Project Layout")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("/src")]),e._v(": all TypeScript and Vue files go here")]),e._v(" "),t("li",[t("code",[e._v("/src/assets")]),e._v(": images, .csvs, etc that get packaged by webpack")]),e._v(" "),t("li",[t("code",[e._v("/src/components")]),e._v(": shared Vue components go here")]),e._v(" "),t("li",[t("code",[e._v("/src/HomeIndex.vue")]),e._v(": the front page. Add new thumbnails for pages or other content here.")]),e._v(" "),t("li",[t("code",[e._v("/src/runs")]),e._v(": Each page has its own folder under the "),t("code",[e._v("/src/runs")]),e._v(" folder.\n"),t("ul",[t("li",[e._v("Connect up your new pages by adding a new folder here, and also adding a new URL to "),t("code",[e._v("/src/router.ts")]),e._v(". Anyone who knows the URL can then see the page. When you are ready for the public to also find it, add a link to "),t("code",[e._v("/src/components/TopBar.vue")]),e._v(" and to the homepage.")]),e._v(" "),t("li",[e._v("Each run should use a "),t("code",[e._v("readme.md")]),e._v(" file under "),t("code",[e._v("/src/assets")]),e._v(" so that researchers can add notes without having to learn the build system.")])])]),e._v(" "),t("li",[t("code",[e._v("/scripts")]),e._v(": Python scripts go here, which are used for preprocessing EpiSim results")]),e._v(" "),t("li",[t("code",[e._v("/public")]),e._v(": large .zip files, project notes, etc go in public. These files are pushed as-is by webpack; i.e. they are not packaged in any way")])]),e._v(" "),t("h2",{attrs:{id:"thank-you"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#thank-you"}},[e._v("#")]),e._v(" Thank you!")]),e._v(" "),t("p",[e._v("Good luck and thanks for the help! -- "),t("a",{attrs:{href:"https://github.com/billyc",target:"_blank",rel:"noopener noreferrer"}},[e._v("Billy"),t("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=r.exports}}]);