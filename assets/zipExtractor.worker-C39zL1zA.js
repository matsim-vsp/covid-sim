(function(){"use strict";var Ke=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function st(f){return f&&f.__esModule&&Object.prototype.hasOwnProperty.call(f,"default")?f.default:f}var at={},_t=f=>f?typeof Symbol.observable=="symbol"&&typeof f[Symbol.observable]=="function"?f===f[Symbol.observable]():typeof f["@@observable"]=="function"?f===f["@@observable"]():!1:!1,Ue={},He={};Object.defineProperty(He,"__esModule",{value:!0}),He.DefaultSerializer=He.extendSerializer=void 0;function yt(f,p){const x=f.deserialize.bind(f),v=f.serialize.bind(f);return{deserialize(S){return p.deserialize(S,x)},serialize(S){return p.serialize(S,v)}}}He.extendSerializer=yt;const ot={deserialize(f){return Object.assign(Error(f.message),{name:f.name,stack:f.stack})},serialize(f){return{__error_marker:"$$error",message:f.message,name:f.name,stack:f.stack}}},kt=f=>f&&typeof f=="object"&&"__error_marker"in f&&f.__error_marker==="$$error";He.DefaultSerializer={deserialize(f){return kt(f)?ot.deserialize(f):f},serialize(f){return f instanceof Error?ot.serialize(f):f}},Object.defineProperty(Ue,"__esModule",{value:!0}),Ue.serialize=Ue.deserialize=Ue.registerSerializer=void 0;const lt=He;let Ge=lt.DefaultSerializer;function vt(f){Ge=lt.extendSerializer(Ge,f)}Ue.registerSerializer=vt;function Et(f){return Ge.deserialize(f)}Ue.deserialize=Et;function xt(f){return Ge.serialize(f)}Ue.serialize=xt;var Pe={},Re={};Object.defineProperty(Re,"__esModule",{value:!0}),Re.$worker=Re.$transferable=Re.$terminate=Re.$events=Re.$errors=void 0,Re.$errors=Symbol("thread.errors"),Re.$events=Symbol("thread.events"),Re.$terminate=Symbol("thread.terminate"),Re.$transferable=Symbol("thread.transferable"),Re.$worker=Symbol("thread.worker"),Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.Transfer=Pe.isTransferDescriptor=void 0;const ft=Re;function Rt(f){return!(!f||typeof f!="object")}function Tt(f){return f&&typeof f=="object"&&f[ft.$transferable]}Pe.isTransferDescriptor=Tt;function St(f,p){if(!p){if(!Rt(f))throw Error();p=[f]}return{[ft.$transferable]:!0,send:f,transferables:p}}Pe.Transfer=St;var ut={};(function(f){Object.defineProperty(f,"__esModule",{value:!0}),f.WorkerMessageType=f.MasterMessageType=void 0,function(p){p.cancel="cancel",p.run="run"}(f.MasterMessageType||(f.MasterMessageType={})),function(p){p.error="error",p.init="init",p.result="result",p.running="running",p.uncaughtError="uncaughtError"}(f.WorkerMessageType||(f.WorkerMessageType={}))})(ut);var tt={};Object.defineProperty(tt,"__esModule",{value:!0});const Ot=function(){const p=typeof self<"u"&&typeof Window<"u"&&self instanceof Window;return!!(typeof self<"u"&&self.postMessage&&!p)},Ct=function(p,x){self.postMessage(p,x)},At=function(p){const x=S=>{p(S.data)},v=()=>{self.removeEventListener("message",x)};return self.addEventListener("message",x),v};tt.default={isWorkerRuntime:Ot,postMessageToMaster:Ct,subscribeToMasterMessages:At},function(f){var p=Ke&&Ke.__awaiter||function(r,i,l,g){function w(k){return k instanceof l?k:new l(function(A){A(k)})}return new(l||(l=Promise))(function(k,A){function re(P){try{m(g.next(P))}catch(C){A(C)}}function K(P){try{m(g.throw(P))}catch(C){A(C)}}function m(P){P.done?k(P.value):w(P.value).then(re,K)}m((g=g.apply(r,i||[])).next())})},x=Ke&&Ke.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(f,"__esModule",{value:!0}),f.expose=f.isWorkerRuntime=f.Transfer=f.registerSerializer=void 0;const v=x(_t),S=Ue,G=Pe,ee=ut,Q=x(tt);var E=Ue;Object.defineProperty(f,"registerSerializer",{enumerable:!0,get:function(){return E.registerSerializer}});var Be=Pe;Object.defineProperty(f,"Transfer",{enumerable:!0,get:function(){return Be.Transfer}}),f.isWorkerRuntime=Q.default.isWorkerRuntime;let ye=!1;const le=new Map,Ae=r=>r&&r.type===ee.MasterMessageType.cancel,ke=r=>r&&r.type===ee.MasterMessageType.run,Te=r=>v.default(r)||Ze(r);function Ze(r){return r&&typeof r=="object"&&typeof r.subscribe=="function"}function We(r){return G.isTransferDescriptor(r)?{payload:r.send,transferables:r.transferables}:{payload:r,transferables:void 0}}function Se(){const r={type:ee.WorkerMessageType.init,exposed:{type:"function"}};Q.default.postMessageToMaster(r)}function ve(r){const i={type:ee.WorkerMessageType.init,exposed:{type:"module",methods:r}};Q.default.postMessageToMaster(i)}function $e(r,i){const{payload:l,transferables:g}=We(i),w={type:ee.WorkerMessageType.error,uid:r,error:S.serialize(l)};Q.default.postMessageToMaster(w,g)}function je(r,i,l){const{payload:g,transferables:w}=We(l),k={type:ee.WorkerMessageType.result,uid:r,complete:i?!0:void 0,payload:g};Q.default.postMessageToMaster(k,w)}function he(r,i){const l={type:ee.WorkerMessageType.running,uid:r,resultType:i};Q.default.postMessageToMaster(l)}function Me(r){try{const i={type:ee.WorkerMessageType.uncaughtError,error:S.serialize(r)};Q.default.postMessageToMaster(i)}catch(i){console.error(`Not reporting uncaught error back to master thread as it occured while reporting an uncaught error already.
Latest error:`,i,`
Original error:`,r)}}function _e(r,i,l){return p(this,void 0,void 0,function*(){let g;try{g=i(...l)}catch(k){return $e(r,k)}const w=Te(g)?"observable":"promise";if(he(r,w),Te(g)){const k=g.subscribe(A=>je(r,!1,S.serialize(A)),A=>{$e(r,S.serialize(A)),le.delete(r)},()=>{je(r,!0),le.delete(r)});le.set(r,k)}else try{const k=yield g;je(r,!0,S.serialize(k))}catch(k){$e(r,S.serialize(k))}})}function H(r){if(!Q.default.isWorkerRuntime())throw Error("expose() called in the master thread.");if(ye)throw Error("expose() called more than once. This is not possible. Pass an object to expose() if you want to expose multiple functions.");if(ye=!0,typeof r=="function")Q.default.subscribeToMasterMessages(i=>{ke(i)&&!i.method&&_e(i.uid,r,i.args.map(S.deserialize))}),Se();else if(typeof r=="object"&&r){Q.default.subscribeToMasterMessages(l=>{ke(l)&&l.method&&_e(l.uid,r[l.method],l.args.map(S.deserialize))});const i=Object.keys(r).filter(l=>typeof r[l]=="function");ve(i)}else throw Error(`Invalid argument passed to expose(). Expected a function or an object, got: ${r}`);Q.default.subscribeToMasterMessages(i=>{if(Ae(i)){const l=i.uid,g=le.get(l);g&&(g.unsubscribe(),le.delete(l))}})}f.expose=H,typeof self<"u"&&typeof self.addEventListener=="function"&&Q.default.isWorkerRuntime()&&(self.addEventListener("error",r=>{setTimeout(()=>Me(r.error||r),250)}),self.addEventListener("unhandledrejection",r=>{const i=r.reason;i&&typeof i.message=="string"&&setTimeout(()=>Me(i),250)})),typeof process<"u"&&typeof process.on=="function"&&Q.default.isWorkerRuntime()&&(process.on("uncaughtException",r=>{setTimeout(()=>Me(r),250)}),process.on("unhandledRejection",r=>{r&&typeof r.message=="string"&&setTimeout(()=>Me(r),250)}))}(at);var rt=st(at);const Mt=rt.expose;rt.registerSerializer,rt.Transfer;/*!
 * zip-loader
 * https://github.com/yomotsu/ZipLoader
 * (c) 2017 @yomotsu
 * Released under the MIT License.
 * ZipLoader uses pako, released under the MIT license.
 */var zt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},it={exports:{}};/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */(function(f,p){(function(x,v){v(p)})(zt,function(x){var v=(t,n,e,u)=>{let c=65535&t|0,o=t>>>16&65535|0,_=0;for(;e!==0;){_=e>2e3?2e3:e,e-=_;do c=c+n[u++]|0,o=o+c|0;while(--_);c%=65521,o%=65521}return c|o<<16|0};const S=new Uint32Array((()=>{let t,n=[];for(var e=0;e<256;e++){t=e;for(var u=0;u<8;u++)t=1&t?3988292384^t>>>1:t>>>1;n[e]=t}return n})());var G=(t,n,e,u)=>{const c=S,o=u+e;t^=-1;for(let _=u;_<o;_++)t=t>>>8^c[255&(t^n[_])];return-1^t};const ee=16209;var Q=function(t,n){let e,u,c,o,_,d,N,s,a,me,M,h,ge,W,O,q,U,b,Z,te,T,$,I,z;const B=t.state;e=t.next_in,I=t.input,u=e+(t.avail_in-5),c=t.next_out,z=t.output,o=c-(n-t.avail_out),_=c+(t.avail_out-257),d=B.dmax,N=B.wsize,s=B.whave,a=B.wnext,me=B.window,M=B.hold,h=B.bits,ge=B.lencode,W=B.distcode,O=(1<<B.lenbits)-1,q=(1<<B.distbits)-1;e:do{h<15&&(M+=I[e++]<<h,h+=8,M+=I[e++]<<h,h+=8),U=ge[M&O];t:for(;;){if(b=U>>>24,M>>>=b,h-=b,b=U>>>16&255,b===0)z[c++]=65535&U;else{if(!(16&b)){if(!(64&b)){U=ge[(65535&U)+(M&(1<<b)-1)];continue t}if(32&b){B.mode=16191;break e}t.msg="invalid literal/length code",B.mode=ee;break e}Z=65535&U,b&=15,b&&(h<b&&(M+=I[e++]<<h,h+=8),Z+=M&(1<<b)-1,M>>>=b,h-=b),h<15&&(M+=I[e++]<<h,h+=8,M+=I[e++]<<h,h+=8),U=W[M&q];r:for(;;){if(b=U>>>24,M>>>=b,h-=b,b=U>>>16&255,!(16&b)){if(!(64&b)){U=W[(65535&U)+(M&(1<<b)-1)];continue r}t.msg="invalid distance code",B.mode=ee;break e}if(te=65535&U,b&=15,h<b&&(M+=I[e++]<<h,h+=8,h<b&&(M+=I[e++]<<h,h+=8)),te+=M&(1<<b)-1,te>d){t.msg="invalid distance too far back",B.mode=ee;break e}if(M>>>=b,h-=b,b=c-o,te>b){if(b=te-b,b>s&&B.sane){t.msg="invalid distance too far back",B.mode=ee;break e}if(T=0,$=me,a===0){if(T+=N-b,b<Z){Z-=b;do z[c++]=me[T++];while(--b);T=c-te,$=z}}else if(a<b){if(T+=N+a-b,b-=a,b<Z){Z-=b;do z[c++]=me[T++];while(--b);if(T=0,a<Z){b=a,Z-=b;do z[c++]=me[T++];while(--b);T=c-te,$=z}}}else if(T+=a-b,b<Z){Z-=b;do z[c++]=me[T++];while(--b);T=c-te,$=z}for(;Z>2;)z[c++]=$[T++],z[c++]=$[T++],z[c++]=$[T++],Z-=3;Z&&(z[c++]=$[T++],Z>1&&(z[c++]=$[T++]))}else{T=c-te;do z[c++]=z[T++],z[c++]=z[T++],z[c++]=z[T++],Z-=3;while(Z>2);Z&&(z[c++]=z[T++],Z>1&&(z[c++]=z[T++]))}break}}break}}while(e<u&&c<_);Z=h>>3,e-=Z,h-=Z<<3,M&=(1<<h)-1,t.next_in=e,t.next_out=c,t.avail_in=e<u?u-e+5:5-(e-u),t.avail_out=c<_?_-c+257:257-(c-_),B.hold=M,B.bits=h};const E=15,Be=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),ye=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),le=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Ae=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var ke=(t,n,e,u,c,o,_,d)=>{const N=d.bits;let s,a,me,M,h,ge,W=0,O=0,q=0,U=0,b=0,Z=0,te=0,T=0,$=0,I=0,z=null;const B=new Uint16Array(16),we=new Uint16Array(16);let Je,Ve,Xe,et=null;for(W=0;W<=E;W++)B[W]=0;for(O=0;O<u;O++)B[n[e+O]]++;for(b=N,U=E;U>=1&&B[U]===0;U--);if(b>U&&(b=U),U===0)return c[o++]=20971520,c[o++]=20971520,d.bits=1,0;for(q=1;q<U&&B[q]===0;q++);for(b<q&&(b=q),T=1,W=1;W<=E;W++)if(T<<=1,T-=B[W],T<0)return-1;if(T>0&&(t===0||U!==1))return-1;for(we[1]=0,W=1;W<E;W++)we[W+1]=we[W]+B[W];for(O=0;O<u;O++)n[e+O]!==0&&(_[we[n[e+O]]++]=O);if(t===0?(z=et=_,ge=20):t===1?(z=Be,et=ye,ge=257):(z=le,et=Ae,ge=0),I=0,O=0,W=q,h=o,Z=b,te=0,me=-1,$=1<<b,M=$-1,t===1&&$>852||t===2&&$>592)return 1;for(;;){Je=W-te,_[O]+1<ge?(Ve=0,Xe=_[O]):_[O]>=ge?(Ve=et[_[O]-ge],Xe=z[_[O]-ge]):(Ve=96,Xe=0),s=1<<W-te,a=1<<Z,q=a;do a-=s,c[h+(I>>te)+a]=Je<<24|Ve<<16|Xe|0;while(a!==0);for(s=1<<W-1;I&s;)s>>=1;if(s!==0?(I&=s-1,I+=s):I=0,O++,--B[W]==0){if(W===U)break;W=n[e+_[O]]}if(W>b&&(I&M)!==me){for(te===0&&(te=b),h+=q,Z=W-te,T=1<<Z;Z+te<U&&(T-=B[Z+te],!(T<=0));)Z++,T<<=1;if($+=1<<Z,t===1&&$>852||t===2&&$>592)return 1;me=I&M,c[me]=b<<24|Z<<16|h-o|0}}return I!==0&&(c[h+I]=W-te<<24|64<<16|0),d.bits=b,0},Te={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{Z_FINISH:Ze,Z_BLOCK:We,Z_TREES:Se,Z_OK:ve,Z_STREAM_END:$e,Z_NEED_DICT:je,Z_STREAM_ERROR:he,Z_DATA_ERROR:Me,Z_MEM_ERROR:_e,Z_BUF_ERROR:H,Z_DEFLATED:r}=Te,i=16180,l=16190,g=16191,w=16192,k=16194,A=16199,re=16200,K=16206,m=16209,P=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);function C(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const ce=t=>{if(!t)return 1;const n=t.state;return!n||n.strm!==t||n.mode<i||n.mode>16211?1:0},fe=t=>{if(ce(t))return he;const n=t.state;return t.total_in=t.total_out=n.total=0,t.msg="",n.wrap&&(t.adler=1&n.wrap),n.mode=i,n.last=0,n.havedict=0,n.flags=-1,n.dmax=32768,n.head=null,n.hold=0,n.bits=0,n.lencode=n.lendyn=new Int32Array(852),n.distcode=n.distdyn=new Int32Array(592),n.sane=1,n.back=-1,ve},y=t=>{if(ce(t))return he;const n=t.state;return n.wsize=0,n.whave=0,n.wnext=0,fe(t)},Y=(t,n)=>{let e;if(ce(t))return he;const u=t.state;return n<0?(e=0,n=-n):(e=5+(n>>4),n<48&&(n&=15)),n&&(n<8||n>15)?he:(u.window!==null&&u.wbits!==n&&(u.window=null),u.wrap=e,u.wbits=n,y(t))},ue=(t,n)=>{if(!t)return he;const e=new C;t.state=e,e.strm=t,e.window=null,e.mode=i;const u=Y(t,n);return u!==ve&&(t.state=null),u};let V,ne,se=!0;const oe=t=>{if(se){V=new Int32Array(512),ne=new Int32Array(32);let n=0;for(;n<144;)t.lens[n++]=8;for(;n<256;)t.lens[n++]=9;for(;n<280;)t.lens[n++]=7;for(;n<288;)t.lens[n++]=8;for(ke(1,t.lens,0,288,V,0,t.work,{bits:9}),n=0;n<32;)t.lens[n++]=5;ke(2,t.lens,0,32,ne,0,t.work,{bits:5}),se=!1}t.lencode=V,t.lenbits=9,t.distcode=ne,t.distbits=5},R=(t,n,e,u)=>{let c;const o=t.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),u>=o.wsize?(o.window.set(n.subarray(e-o.wsize,e),0),o.wnext=0,o.whave=o.wsize):(c=o.wsize-o.wnext,c>u&&(c=u),o.window.set(n.subarray(e-u,e-u+c),o.wnext),(u-=c)?(o.window.set(n.subarray(e-u,e),0),o.wnext=u,o.whave=o.wsize):(o.wnext+=c,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=c))),0};var D={inflateReset:y,inflateReset2:Y,inflateResetKeep:fe,inflateInit:t=>ue(t,15),inflateInit2:ue,inflate:(t,n)=>{let e,u,c,o,_,d,N,s,a,me,M,h,ge,W,O,q,U,b,Z,te,T,$,I=0;const z=new Uint8Array(4);let B,we;const Je=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(ce(t)||!t.output||!t.input&&t.avail_in!==0)return he;e=t.state,e.mode===g&&(e.mode=w),_=t.next_out,c=t.output,N=t.avail_out,o=t.next_in,u=t.input,d=t.avail_in,s=e.hold,a=e.bits,me=d,M=N,$=ve;e:for(;;)switch(e.mode){case i:if(e.wrap===0){e.mode=w;break}for(;a<16;){if(d===0)break e;d--,s+=u[o++]<<a,a+=8}if(2&e.wrap&&s===35615){e.wbits===0&&(e.wbits=15),e.check=0,z[0]=255&s,z[1]=s>>>8&255,e.check=G(e.check,z,2,0),s=0,a=0,e.mode=16181;break}if(e.head&&(e.head.done=!1),!(1&e.wrap)||(((255&s)<<8)+(s>>8))%31){t.msg="incorrect header check",e.mode=m;break}if((15&s)!==r){t.msg="unknown compression method",e.mode=m;break}if(s>>>=4,a-=4,T=8+(15&s),e.wbits===0&&(e.wbits=T),T>15||T>e.wbits){t.msg="invalid window size",e.mode=m;break}e.dmax=1<<e.wbits,e.flags=0,t.adler=e.check=1,e.mode=512&s?16189:g,s=0,a=0;break;case 16181:for(;a<16;){if(d===0)break e;d--,s+=u[o++]<<a,a+=8}if(e.flags=s,(255&e.flags)!==r){t.msg="unknown compression method",e.mode=m;break}if(57344&e.flags){t.msg="unknown header flags set",e.mode=m;break}e.head&&(e.head.text=s>>8&1),512&e.flags&&4&e.wrap&&(z[0]=255&s,z[1]=s>>>8&255,e.check=G(e.check,z,2,0)),s=0,a=0,e.mode=16182;case 16182:for(;a<32;){if(d===0)break e;d--,s+=u[o++]<<a,a+=8}e.head&&(e.head.time=s),512&e.flags&&4&e.wrap&&(z[0]=255&s,z[1]=s>>>8&255,z[2]=s>>>16&255,z[3]=s>>>24&255,e.check=G(e.check,z,4,0)),s=0,a=0,e.mode=16183;case 16183:for(;a<16;){if(d===0)break e;d--,s+=u[o++]<<a,a+=8}e.head&&(e.head.xflags=255&s,e.head.os=s>>8),512&e.flags&&4&e.wrap&&(z[0]=255&s,z[1]=s>>>8&255,e.check=G(e.check,z,2,0)),s=0,a=0,e.mode=16184;case 16184:if(1024&e.flags){for(;a<16;){if(d===0)break e;d--,s+=u[o++]<<a,a+=8}e.length=s,e.head&&(e.head.extra_len=s),512&e.flags&&4&e.wrap&&(z[0]=255&s,z[1]=s>>>8&255,e.check=G(e.check,z,2,0)),s=0,a=0}else e.head&&(e.head.extra=null);e.mode=16185;case 16185:if(1024&e.flags&&(h=e.length,h>d&&(h=d),h&&(e.head&&(T=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Uint8Array(e.head.extra_len)),e.head.extra.set(u.subarray(o,o+h),T)),512&e.flags&&4&e.wrap&&(e.check=G(e.check,u,h,o)),d-=h,o+=h,e.length-=h),e.length))break e;e.length=0,e.mode=16186;case 16186:if(2048&e.flags){if(d===0)break e;h=0;do T=u[o+h++],e.head&&T&&e.length<65536&&(e.head.name+=String.fromCharCode(T));while(T&&h<d);if(512&e.flags&&4&e.wrap&&(e.check=G(e.check,u,h,o)),d-=h,o+=h,T)break e}else e.head&&(e.head.name=null);e.length=0,e.mode=16187;case 16187:if(4096&e.flags){if(d===0)break e;h=0;do T=u[o+h++],e.head&&T&&e.length<65536&&(e.head.comment+=String.fromCharCode(T));while(T&&h<d);if(512&e.flags&&4&e.wrap&&(e.check=G(e.check,u,h,o)),d-=h,o+=h,T)break e}else e.head&&(e.head.comment=null);e.mode=16188;case 16188:if(512&e.flags){for(;a<16;){if(d===0)break e;d--,s+=u[o++]<<a,a+=8}if(4&e.wrap&&s!==(65535&e.check)){t.msg="header crc mismatch",e.mode=m;break}s=0,a=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),t.adler=e.check=0,e.mode=g;break;case 16189:for(;a<32;){if(d===0)break e;d--,s+=u[o++]<<a,a+=8}t.adler=e.check=P(s),s=0,a=0,e.mode=l;case l:if(e.havedict===0)return t.next_out=_,t.avail_out=N,t.next_in=o,t.avail_in=d,e.hold=s,e.bits=a,je;t.adler=e.check=1,e.mode=g;case g:if(n===We||n===Se)break e;case w:if(e.last){s>>>=7&a,a-=7&a,e.mode=K;break}for(;a<3;){if(d===0)break e;d--,s+=u[o++]<<a,a+=8}switch(e.last=1&s,s>>>=1,a-=1,3&s){case 0:e.mode=16193;break;case 1:if(oe(e),e.mode=A,n===Se){s>>>=2,a-=2;break e}break;case 2:e.mode=16196;break;case 3:t.msg="invalid block type",e.mode=m}s>>>=2,a-=2;break;case 16193:for(s>>>=7&a,a-=7&a;a<32;){if(d===0)break e;d--,s+=u[o++]<<a,a+=8}if((65535&s)!=(s>>>16^65535)){t.msg="invalid stored block lengths",e.mode=m;break}if(e.length=65535&s,s=0,a=0,e.mode=k,n===Se)break e;case k:e.mode=16195;case 16195:if(h=e.length,h){if(h>d&&(h=d),h>N&&(h=N),h===0)break e;c.set(u.subarray(o,o+h),_),d-=h,o+=h,N-=h,_+=h,e.length-=h;break}e.mode=g;break;case 16196:for(;a<14;){if(d===0)break e;d--,s+=u[o++]<<a,a+=8}if(e.nlen=257+(31&s),s>>>=5,a-=5,e.ndist=1+(31&s),s>>>=5,a-=5,e.ncode=4+(15&s),s>>>=4,a-=4,e.nlen>286||e.ndist>30){t.msg="too many length or distance symbols",e.mode=m;break}e.have=0,e.mode=16197;case 16197:for(;e.have<e.ncode;){for(;a<3;){if(d===0)break e;d--,s+=u[o++]<<a,a+=8}e.lens[Je[e.have++]]=7&s,s>>>=3,a-=3}for(;e.have<19;)e.lens[Je[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,B={bits:e.lenbits},$=ke(0,e.lens,0,19,e.lencode,0,e.work,B),e.lenbits=B.bits,$){t.msg="invalid code lengths set",e.mode=m;break}e.have=0,e.mode=16198;case 16198:for(;e.have<e.nlen+e.ndist;){for(;I=e.lencode[s&(1<<e.lenbits)-1],O=I>>>24,q=I>>>16&255,U=65535&I,!(O<=a);){if(d===0)break e;d--,s+=u[o++]<<a,a+=8}if(U<16)s>>>=O,a-=O,e.lens[e.have++]=U;else{if(U===16){for(we=O+2;a<we;){if(d===0)break e;d--,s+=u[o++]<<a,a+=8}if(s>>>=O,a-=O,e.have===0){t.msg="invalid bit length repeat",e.mode=m;break}T=e.lens[e.have-1],h=3+(3&s),s>>>=2,a-=2}else if(U===17){for(we=O+3;a<we;){if(d===0)break e;d--,s+=u[o++]<<a,a+=8}s>>>=O,a-=O,T=0,h=3+(7&s),s>>>=3,a-=3}else{for(we=O+7;a<we;){if(d===0)break e;d--,s+=u[o++]<<a,a+=8}s>>>=O,a-=O,T=0,h=11+(127&s),s>>>=7,a-=7}if(e.have+h>e.nlen+e.ndist){t.msg="invalid bit length repeat",e.mode=m;break}for(;h--;)e.lens[e.have++]=T}}if(e.mode===m)break;if(e.lens[256]===0){t.msg="invalid code -- missing end-of-block",e.mode=m;break}if(e.lenbits=9,B={bits:e.lenbits},$=ke(1,e.lens,0,e.nlen,e.lencode,0,e.work,B),e.lenbits=B.bits,$){t.msg="invalid literal/lengths set",e.mode=m;break}if(e.distbits=6,e.distcode=e.distdyn,B={bits:e.distbits},$=ke(2,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,B),e.distbits=B.bits,$){t.msg="invalid distances set",e.mode=m;break}if(e.mode=A,n===Se)break e;case A:e.mode=re;case re:if(d>=6&&N>=258){t.next_out=_,t.avail_out=N,t.next_in=o,t.avail_in=d,e.hold=s,e.bits=a,Q(t,M),_=t.next_out,c=t.output,N=t.avail_out,o=t.next_in,u=t.input,d=t.avail_in,s=e.hold,a=e.bits,e.mode===g&&(e.back=-1);break}for(e.back=0;I=e.lencode[s&(1<<e.lenbits)-1],O=I>>>24,q=I>>>16&255,U=65535&I,!(O<=a);){if(d===0)break e;d--,s+=u[o++]<<a,a+=8}if(q&&!(240&q)){for(b=O,Z=q,te=U;I=e.lencode[te+((s&(1<<b+Z)-1)>>b)],O=I>>>24,q=I>>>16&255,U=65535&I,!(b+O<=a);){if(d===0)break e;d--,s+=u[o++]<<a,a+=8}s>>>=b,a-=b,e.back+=b}if(s>>>=O,a-=O,e.back+=O,e.length=U,q===0){e.mode=16205;break}if(32&q){e.back=-1,e.mode=g;break}if(64&q){t.msg="invalid literal/length code",e.mode=m;break}e.extra=15&q,e.mode=16201;case 16201:if(e.extra){for(we=e.extra;a<we;){if(d===0)break e;d--,s+=u[o++]<<a,a+=8}e.length+=s&(1<<e.extra)-1,s>>>=e.extra,a-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=16202;case 16202:for(;I=e.distcode[s&(1<<e.distbits)-1],O=I>>>24,q=I>>>16&255,U=65535&I,!(O<=a);){if(d===0)break e;d--,s+=u[o++]<<a,a+=8}if(!(240&q)){for(b=O,Z=q,te=U;I=e.distcode[te+((s&(1<<b+Z)-1)>>b)],O=I>>>24,q=I>>>16&255,U=65535&I,!(b+O<=a);){if(d===0)break e;d--,s+=u[o++]<<a,a+=8}s>>>=b,a-=b,e.back+=b}if(s>>>=O,a-=O,e.back+=O,64&q){t.msg="invalid distance code",e.mode=m;break}e.offset=U,e.extra=15&q,e.mode=16203;case 16203:if(e.extra){for(we=e.extra;a<we;){if(d===0)break e;d--,s+=u[o++]<<a,a+=8}e.offset+=s&(1<<e.extra)-1,s>>>=e.extra,a-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){t.msg="invalid distance too far back",e.mode=m;break}e.mode=16204;case 16204:if(N===0)break e;if(h=M-N,e.offset>h){if(h=e.offset-h,h>e.whave&&e.sane){t.msg="invalid distance too far back",e.mode=m;break}h>e.wnext?(h-=e.wnext,ge=e.wsize-h):ge=e.wnext-h,h>e.length&&(h=e.length),W=e.window}else W=c,ge=_-e.offset,h=e.length;h>N&&(h=N),N-=h,e.length-=h;do c[_++]=W[ge++];while(--h);e.length===0&&(e.mode=re);break;case 16205:if(N===0)break e;c[_++]=e.length,N--,e.mode=re;break;case K:if(e.wrap){for(;a<32;){if(d===0)break e;d--,s|=u[o++]<<a,a+=8}if(M-=N,t.total_out+=M,e.total+=M,4&e.wrap&&M&&(t.adler=e.check=e.flags?G(e.check,c,M,_-M):v(e.check,c,M,_-M)),M=N,4&e.wrap&&(e.flags?s:P(s))!==e.check){t.msg="incorrect data check",e.mode=m;break}s=0,a=0}e.mode=16207;case 16207:if(e.wrap&&e.flags){for(;a<32;){if(d===0)break e;d--,s+=u[o++]<<a,a+=8}if(4&e.wrap&&s!==(4294967295&e.total)){t.msg="incorrect length check",e.mode=m;break}s=0,a=0}e.mode=16208;case 16208:$=$e;break e;case m:$=Me;break e;case 16210:return _e;default:return he}return t.next_out=_,t.avail_out=N,t.next_in=o,t.avail_in=d,e.hold=s,e.bits=a,(e.wsize||M!==t.avail_out&&e.mode<m&&(e.mode<K||n!==Ze))&&R(t,t.output,t.next_out,M-t.avail_out),me-=t.avail_in,M-=t.avail_out,t.total_in+=me,t.total_out+=M,e.total+=M,4&e.wrap&&M&&(t.adler=e.check=e.flags?G(e.check,c,M,t.next_out-M):v(e.check,c,M,t.next_out-M)),t.data_type=e.bits+(e.last?64:0)+(e.mode===g?128:0)+(e.mode===A||e.mode===k?256:0),(me===0&&M===0||n===Ze)&&$===ve&&($=H),$},inflateEnd:t=>{if(ce(t))return he;let n=t.state;return n.window&&(n.window=null),t.state=null,ve},inflateGetHeader:(t,n)=>{if(ce(t))return he;const e=t.state;return 2&e.wrap?(e.head=n,n.done=!1,ve):he},inflateSetDictionary:(t,n)=>{const e=n.length;let u,c,o;return ce(t)?he:(u=t.state,u.wrap!==0&&u.mode!==l?he:u.mode===l&&(c=1,c=v(c,n,e,0),c!==u.check)?Me:(o=R(t,n,e,e),o?(u.mode=16210,_e):(u.havedict=1,ve)))},inflateInfo:"pako inflate (from Nodeca project)"};const X=(t,n)=>Object.prototype.hasOwnProperty.call(t,n);var ie=function(t){const n=Array.prototype.slice.call(arguments,1);for(;n.length;){const e=n.shift();if(e){if(typeof e!="object")throw new TypeError(e+"must be non-object");for(const u in e)X(e,u)&&(t[u]=e[u])}}return t},F=t=>{let n=0;for(let u=0,c=t.length;u<c;u++)n+=t[u].length;const e=new Uint8Array(n);for(let u=0,c=0,o=t.length;u<o;u++){let _=t[u];e.set(_,c),c+=_.length}return e};let j=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{j=!1}const J=new Uint8Array(256);for(let t=0;t<256;t++)J[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;J[254]=J[254]=1;var L=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let n,e,u,c,o,_=t.length,d=0;for(c=0;c<_;c++)e=t.charCodeAt(c),(64512&e)==55296&&c+1<_&&(u=t.charCodeAt(c+1),(64512&u)==56320&&(e=65536+(e-55296<<10)+(u-56320),c++)),d+=e<128?1:e<2048?2:e<65536?3:4;for(n=new Uint8Array(d),o=0,c=0;o<d;c++)e=t.charCodeAt(c),(64512&e)==55296&&c+1<_&&(u=t.charCodeAt(c+1),(64512&u)==56320&&(e=65536+(e-55296<<10)+(u-56320),c++)),e<128?n[o++]=e:e<2048?(n[o++]=192|e>>>6,n[o++]=128|63&e):e<65536?(n[o++]=224|e>>>12,n[o++]=128|e>>>6&63,n[o++]=128|63&e):(n[o++]=240|e>>>18,n[o++]=128|e>>>12&63,n[o++]=128|e>>>6&63,n[o++]=128|63&e);return n},De=(t,n)=>{const e=n||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,n));let u,c;const o=new Array(2*e);for(c=0,u=0;u<e;){let _=t[u++];if(_<128){o[c++]=_;continue}let d=J[_];if(d>4)o[c++]=65533,u+=d-1;else{for(_&=d===2?31:d===3?15:7;d>1&&u<e;)_=_<<6|63&t[u++],d--;d>1?o[c++]=65533:_<65536?o[c++]=_:(_-=65536,o[c++]=55296|_>>10&1023,o[c++]=56320|1023&_)}}return((_,d)=>{if(d<65534&&_.subarray&&j)return String.fromCharCode.apply(null,_.length===d?_:_.subarray(0,d));let N="";for(let s=0;s<d;s++)N+=String.fromCharCode(_[s]);return N})(o,c)},Ee=(t,n)=>{(n=n||t.length)>t.length&&(n=t.length);let e=n-1;for(;e>=0&&(192&t[e])==128;)e--;return e<0||e===0?n:e+J[t[e]]>n?e:n},pe={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Ie=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},Oe=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const be=Object.prototype.toString,{Z_NO_FLUSH:de,Z_FINISH:Fe,Z_OK:ae,Z_STREAM_END:Ce,Z_NEED_DICT:xe,Z_STREAM_ERROR:Qe,Z_DATA_ERROR:Ne,Z_MEM_ERROR:qe}=Te;function ze(t){this.options=ie({chunkSize:65536,windowBits:15,to:""},t||{});const n=this.options;n.raw&&n.windowBits>=0&&n.windowBits<16&&(n.windowBits=-n.windowBits,n.windowBits===0&&(n.windowBits=-15)),!(n.windowBits>=0&&n.windowBits<16)||t&&t.windowBits||(n.windowBits+=32),n.windowBits>15&&n.windowBits<48&&!(15&n.windowBits)&&(n.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ie,this.strm.avail_out=0;let e=D.inflateInit2(this.strm,n.windowBits);if(e!==ae)throw new Error(pe[e]);if(this.header=new Oe,D.inflateGetHeader(this.strm,this.header),n.dictionary&&(typeof n.dictionary=="string"?n.dictionary=L(n.dictionary):be.call(n.dictionary)==="[object ArrayBuffer]"&&(n.dictionary=new Uint8Array(n.dictionary)),n.raw&&(e=D.inflateSetDictionary(this.strm,n.dictionary),e!==ae)))throw new Error(pe[e])}function nt(t,n){const e=new ze(n);if(e.push(t),e.err)throw e.msg||pe[e.err];return e.result}ze.prototype.push=function(t,n){const e=this.strm,u=this.options.chunkSize,c=this.options.dictionary;let o,_,d;if(this.ended)return!1;for(_=n===~~n?n:n===!0?Fe:de,be.call(t)==="[object ArrayBuffer]"?e.input=new Uint8Array(t):e.input=t,e.next_in=0,e.avail_in=e.input.length;;){for(e.avail_out===0&&(e.output=new Uint8Array(u),e.next_out=0,e.avail_out=u),o=D.inflate(e,_),o===xe&&c&&(o=D.inflateSetDictionary(e,c),o===ae?o=D.inflate(e,_):o===Ne&&(o=xe));e.avail_in>0&&o===Ce&&e.state.wrap>0&&t[e.next_in]!==0;)D.inflateReset(e),o=D.inflate(e,_);switch(o){case Qe:case Ne:case xe:case qe:return this.onEnd(o),this.ended=!0,!1}if(d=e.avail_out,e.next_out&&(e.avail_out===0||o===Ce))if(this.options.to==="string"){let N=Ee(e.output,e.next_out),s=e.next_out-N,a=De(e.output,N);e.next_out=s,e.avail_out=u-s,s&&e.output.set(e.output.subarray(N,N+s),0),this.onData(a)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(o!==ae||d!==0){if(o===Ce)return o=D.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(e.avail_in===0)break}}return!0},ze.prototype.onData=function(t){this.chunks.push(t)},ze.prototype.onEnd=function(t){t===ae&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=F(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var ht=ze,pt=nt,mt=function(t,n){return(n=n||{}).raw=!0,nt(t,n)},gt=nt,bt=Te,Wt={Inflate:ht,inflate:pt,inflateRaw:mt,ungzip:gt,constants:bt};x.Inflate=ht,x.constants=bt,x.default=Wt,x.inflate=pt,x.inflateRaw=mt,x.ungzip=gt,Object.defineProperty(x,"__esModule",{value:!0})})})(it,it.exports);var Lt=it.exports;const Dt=!0;class It{constructor(p){this.dataView=new DataView(p),this.position=0}skip(p){this.position+=p}readBytes(p){const x=p===4?"getUint32":p===2?"getUint16":"getUint8",v=this.position;return this.position+=p,this.dataView[x](v,Dt)}}const Ft=67324752,Ut=33639248,ct=f=>{const p=new It(f),x={};for(;;){const v=p.readBytes(4);if(v===Ft){const S=Bt(p);x[S.name]={buffer:S.buffer};continue}if(v===Ut){Zt(p);continue}break}return x},Bt=f=>{let p=0,x;f.skip(4);const v=f.readBytes(2);f.skip(8);const S=f.readBytes(4);f.skip(4);const G=f.readBytes(2),ee=f.readBytes(2),Q=[],E=new Uint8Array(S);for(p=0;p<G;p++)Q.push(String.fromCharCode(f.readBytes(1)));for(f.skip(ee),p=0;p<S;p++)E[p]=f.readBytes(1);switch(v){case 0:x=E;break;case 8:x=new Uint8Array(Lt.inflate(E,{raw:!0}));break;default:console.log(`${Q.join("")}: unsupported compression type`),x=E}return{name:Q.join(""),buffer:x}},Zt=f=>{f.skip(24);const p=f.readBytes(2),x=f.readBytes(2),v=f.readBytes(2);f.skip(12),f.skip(p),f.skip(x),f.skip(v)},jt=class wt{static unzip(p){return new Promise(x=>{const v=new wt,S=new FileReader;S.onload=G=>{const ee=G.target.result;v.files=ct(ee),x(v)},p instanceof Blob&&S.readAsArrayBuffer(p)})}constructor(p,x={}){this._listeners={},this.url=p,this.fetchOptions=x,this.files=null}async load(){this.clear();const p=Date.now(),v=await(await fetch(this.url,this.fetchOptions).then(S=>{const G=this,ee=parseInt(S.headers.get("content-length"),10);let Q=0;return new Response(new ReadableStream({start(E){const Be=S.body.getReader(),ye=async()=>{const{done:le,value:Ae}=await Be.read();if(le){E.close();return}Q+=Ae.byteLength,E.enqueue(Ae),G.dispatch({type:"progress",loaded:Q,total:ee,elapsedTime:Date.now()-p}),ye()};ye()}}))}).catch(S=>{this.dispatch({type:"error",error:S})})).arrayBuffer();return this.files=ct(v),this.dispatch({type:"load",elapsedTime:Date.now()-p}),this.files}extractAsBlobUrl(p,x){if(this.files[p].url)return this.files[p].url;const v=new Blob([this.files[p].buffer],{type:x});return this.files[p].url=URL.createObjectURL(v),this.files[p].url}extractAsText(p){const x=this.files[p].buffer;if(typeof TextDecoder<"u")return new TextDecoder().decode(x);let v="";for(let S=0,G=x.length;S<G;S++)v+=String.fromCharCode(x[S]);return decodeURIComponent(escape(v))}extractAsJSON(p){return JSON.parse(this.extractAsText(p))}on(p,x){this._listeners[p]||(this._listeners[p]=[]),this._listeners[p].indexOf(x)===-1&&this._listeners[p].push(x)}off(p,x){const v=this._listeners[p];if(v){const S=v.indexOf(x);S!==-1&&v.splice(S,1)}}dispatch(p){const x=this._listeners[p.type];if(x){p.target=this;const v=x.length;for(let S=0;S<v;S++)x[S].call(this,p)}}clear(p){if(p){URL.revokeObjectURL(this.files[p].url),delete this.files[p];return}for(let x in this.files)URL.revokeObjectURL(this.files[x].url);this.files=null}};var dt={exports:{}};/* @license
Papa Parse
v5.3.2
https://github.com/mholt/PapaParse
License: MIT
*/(function(f,p){(function(x,v){f.exports=v()})(Ke,function x(){var v=typeof self<"u"?self:typeof window<"u"?window:v!==void 0?v:{},S=!v.document&&!!v.postMessage,G=S&&/blob:/i.test((v.location||{}).protocol),ee={},Q=0,E={},Be=[];if(E.parse=function(r,i){var l=(i=i||{}).dynamicTyping||!1;if(H(l)&&(i.dynamicTypingFunction=l,l={}),i.dynamicTyping=l,i.transform=!!H(i.transform)&&i.transform,i.worker&&E.WORKERS_SUPPORTED){var g=function(){if(!E.WORKERS_SUPPORTED)return!1;var k=(re=v.URL||v.webkitURL||null,K=x.toString(),E.BLOB_URL||(E.BLOB_URL=re.createObjectURL(new Blob(["(",K,")();"],{type:"text/javascript"})))),A=new v.Worker(k),re,K;return A.onmessage=$e,A.id=Q++,ee[A.id]=A}();return g.userStep=i.step,g.userChunk=i.chunk,g.userComplete=i.complete,g.userError=i.error,i.step=H(i.step),i.chunk=H(i.chunk),i.complete=H(i.complete),i.error=H(i.error),delete i.worker,void g.postMessage({input:r,config:i,workerId:g.id})}var w=null;return E.NODE_STREAM_INPUT,typeof r=="string"?w=i.download?new Ae(i):new Te(i):r.readable===!0&&H(r.read)&&H(r.on)?w=new Ze(i):(v.File&&r instanceof File||r instanceof Object)&&(w=new ke(i)),w.stream(r)},E.unparse=function(r,i){var l=!1,g=!0,w=",",k=`\r
`,A='"',re=A+A,K=!1,m=null,P=!1;(function(){if(typeof i=="object"){if(typeof i.delimiter!="string"||E.BAD_DELIMITERS.filter(function(y){return i.delimiter.indexOf(y)!==-1}).length||(w=i.delimiter),(typeof i.quotes=="boolean"||typeof i.quotes=="function"||Array.isArray(i.quotes))&&(l=i.quotes),typeof i.skipEmptyLines!="boolean"&&typeof i.skipEmptyLines!="string"||(K=i.skipEmptyLines),typeof i.newline=="string"&&(k=i.newline),typeof i.quoteChar=="string"&&(A=i.quoteChar),typeof i.header=="boolean"&&(g=i.header),Array.isArray(i.columns)){if(i.columns.length===0)throw new Error("Option columns is empty");m=i.columns}i.escapeChar!==void 0&&(re=i.escapeChar+A),(typeof i.escapeFormulae=="boolean"||i.escapeFormulae instanceof RegExp)&&(P=i.escapeFormulae instanceof RegExp?i.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var C=new RegExp(Se(A),"g");if(typeof r=="string"&&(r=JSON.parse(r)),Array.isArray(r)){if(!r.length||Array.isArray(r[0]))return ce(null,r,K);if(typeof r[0]=="object")return ce(m||Object.keys(r[0]),r,K)}else if(typeof r=="object")return typeof r.data=="string"&&(r.data=JSON.parse(r.data)),Array.isArray(r.data)&&(r.fields||(r.fields=r.meta&&r.meta.fields||m),r.fields||(r.fields=Array.isArray(r.data[0])?r.fields:typeof r.data[0]=="object"?Object.keys(r.data[0]):[]),Array.isArray(r.data[0])||typeof r.data[0]=="object"||(r.data=[r.data])),ce(r.fields||[],r.data||[],K);throw new Error("Unable to serialize unrecognized input");function ce(y,Y,ue){var V="";typeof y=="string"&&(y=JSON.parse(y)),typeof Y=="string"&&(Y=JSON.parse(Y));var ne=Array.isArray(y)&&0<y.length,se=!Array.isArray(Y[0]);if(ne&&g){for(var oe=0;oe<y.length;oe++)0<oe&&(V+=w),V+=fe(y[oe],oe);0<Y.length&&(V+=k)}for(var R=0;R<Y.length;R++){var D=ne?y.length:Y[R].length,X=!1,ie=ne?Object.keys(Y[R]).length===0:Y[R].length===0;if(ue&&!ne&&(X=ue==="greedy"?Y[R].join("").trim()==="":Y[R].length===1&&Y[R][0].length===0),ue==="greedy"&&ne){for(var F=[],j=0;j<D;j++){var J=se?y[j]:j;F.push(Y[R][J])}X=F.join("").trim()===""}if(!X){for(var L=0;L<D;L++){0<L&&!ie&&(V+=w);var De=ne&&se?y[L]:L;V+=fe(Y[R][De],L)}R<Y.length-1&&(!ue||0<D&&!ie)&&(V+=k)}}return V}function fe(y,Y){if(y==null)return"";if(y.constructor===Date)return JSON.stringify(y).slice(1,25);var ue=!1;P&&typeof y=="string"&&P.test(y)&&(y="'"+y,ue=!0);var V=y.toString().replace(C,re);return(ue=ue||l===!0||typeof l=="function"&&l(y,Y)||Array.isArray(l)&&l[Y]||function(ne,se){for(var oe=0;oe<se.length;oe++)if(-1<ne.indexOf(se[oe]))return!0;return!1}(V,E.BAD_DELIMITERS)||-1<V.indexOf(w)||V.charAt(0)===" "||V.charAt(V.length-1)===" ")?A+V+A:V}},E.RECORD_SEP="",E.UNIT_SEP="",E.BYTE_ORDER_MARK="\uFEFF",E.BAD_DELIMITERS=["\r",`
`,'"',E.BYTE_ORDER_MARK],E.WORKERS_SUPPORTED=!S&&!!v.Worker,E.NODE_STREAM_INPUT=1,E.LocalChunkSize=10485760,E.RemoteChunkSize=5242880,E.DefaultDelimiter=",",E.Parser=ve,E.ParserHandle=We,E.NetworkStreamer=Ae,E.FileStreamer=ke,E.StringStreamer=Te,E.ReadableStreamStreamer=Ze,v.jQuery){var ye=v.jQuery;ye.fn.parse=function(r){var i=r.config||{},l=[];return this.each(function(k){if(!(ye(this).prop("tagName").toUpperCase()==="INPUT"&&ye(this).attr("type").toLowerCase()==="file"&&v.FileReader)||!this.files||this.files.length===0)return!0;for(var A=0;A<this.files.length;A++)l.push({file:this.files[A],inputElem:this,instanceConfig:ye.extend({},i)})}),g(),this;function g(){if(l.length!==0){var k,A,re,K,m=l[0];if(H(r.before)){var P=r.before(m.file,m.inputElem);if(typeof P=="object"){if(P.action==="abort")return k="AbortError",A=m.file,re=m.inputElem,K=P.reason,void(H(r.error)&&r.error({name:k},A,re,K));if(P.action==="skip")return void w();typeof P.config=="object"&&(m.instanceConfig=ye.extend(m.instanceConfig,P.config))}else if(P==="skip")return void w()}var C=m.instanceConfig.complete;m.instanceConfig.complete=function(ce){H(C)&&C(ce,m.file,m.inputElem),w()},E.parse(m.file,m.instanceConfig)}else H(r.complete)&&r.complete()}function w(){l.splice(0,1),g()}}}function le(r){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],comments:[],meta:{}},(function(i){var l=Me(i);l.chunkSize=parseInt(l.chunkSize),i.step||i.chunk||(l.chunkSize=null),this._handle=new We(l),(this._handle.streamer=this)._config=l}).call(this,r),this.parseChunk=function(i,l){if(this.isFirstChunk&&H(this._config.beforeFirstChunk)){var g=this._config.beforeFirstChunk(i);g!==void 0&&(i=g)}this.isFirstChunk=!1,this._halted=!1;var w=this._partialLine+i;this._partialLine="";var k=this._handle.parse(w,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var A=k.meta.cursor;this._finished||(this._partialLine=w.substring(A-this._baseIndex),this._baseIndex=A),k&&k.data&&(this._rowCount+=k.data.length);var re=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(G)v.postMessage({results:k,workerId:E.WORKER_ID,finished:re});else if(H(this._config.chunk)&&!l){if(this._config.chunk(k,this._handle),Be=[],this._handle.paused()||this._handle.aborted())return void(this._halted=!0);k=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(k.data),this._completeResults.errors=this._completeResults.errors.concat(k.errors),this._completeResults.comments=this._completeResults.comments.concat(k.comments),this._completeResults.meta=k.meta),this._completed||!re||!H(this._config.complete)||k&&k.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),re||k&&k.meta.paused||this._nextChunk(),k}this._halted=!0},this._sendError=function(i){H(this._config.error)?this._config.error(i):G&&this._config.error&&v.postMessage({workerId:E.WORKER_ID,error:i,finished:!1})}}function Ae(r){var i;(r=r||{}).chunkSize||(r.chunkSize=E.RemoteChunkSize),le.call(this,r),this._nextChunk=S?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(l){this._input=l,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(i=new XMLHttpRequest,this._config.withCredentials&&(i.withCredentials=this._config.withCredentials),S||(i.onload=_e(this._chunkLoaded,this),i.onerror=_e(this._chunkError,this)),i.open(this._config.downloadRequestBody?"POST":"GET",this._input,!S),this._config.downloadRequestHeaders){var l=this._config.downloadRequestHeaders;for(var g in l)i.setRequestHeader(g,l[g])}if(this._config.chunkSize){var w=this._start+this._config.chunkSize-1;i.setRequestHeader("Range","bytes="+this._start+"-"+w)}try{i.send(this._config.downloadRequestBody)}catch(k){this._chunkError(k.message)}S&&i.status===0&&this._chunkError()}},this._chunkLoaded=function(){var l;i.readyState===4&&(i.status<200||400<=i.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:i.responseText.length,this._finished=!this._config.chunkSize||this._start>=((l=i.getResponseHeader("Content-Range"))!==null?parseInt(l.substring(l.lastIndexOf("/")+1)):-1),this.parseChunk(i.responseText)))},this._chunkError=function(l){var g=i.statusText||l;this._sendError(new Error(g))}}function ke(r){var i,l;(r=r||{}).chunkSize||(r.chunkSize=E.LocalChunkSize),le.call(this,r);var g=typeof FileReader<"u";this.stream=function(w){this._input=w,l=w.slice||w.webkitSlice||w.mozSlice,g?((i=new FileReader).onload=_e(this._chunkLoaded,this),i.onerror=_e(this._chunkError,this)):i=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var w=this._input;if(this._config.chunkSize){var k=Math.min(this._start+this._config.chunkSize,this._input.size);w=l.call(w,this._start,k)}var A=i.readAsText(w,this._config.encoding);g||this._chunkLoaded({target:{result:A}})},this._chunkLoaded=function(w){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(w.target.result)},this._chunkError=function(){this._sendError(i.error)}}function Te(r){var i;le.call(this,r=r||{}),this.stream=function(l){return i=l,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var l,g=this._config.chunkSize;return i=g?(l=i.substring(0,g),i.substring(g)):(l=i,""),this._finished=!i,this.parseChunk(l)}}}function Ze(r){le.call(this,r=r||{});var i=[],l=!0,g=!1;this.pause=function(){le.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){le.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(w){this._input=w,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){g&&i.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),i.length?this.parseChunk(i.shift()):l=!0},this._streamData=_e(function(w){try{i.push(typeof w=="string"?w:w.toString(this._config.encoding)),l&&(l=!1,this._checkIsFinished(),this.parseChunk(i.shift()))}catch(k){this._streamError(k)}},this),this._streamError=_e(function(w){this._streamCleanUp(),this._sendError(w)},this),this._streamEnd=_e(function(){this._streamCleanUp(),g=!0,this._streamData("")},this),this._streamCleanUp=_e(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function We(r){var i,l,g,w=Math.pow(2,53),k=-w,A=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,re=/^(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))$/,K=this,m=0,P=0,C=!1,ce=!1,fe=[],y={data:[],errors:[],comments:[],meta:{}};if(H(r.step)){var Y=r.step;r.step=function(R){if(y=R,ne())V();else{if(V(),y.data.length===0)return;m+=R.data.length,r.preview&&m>r.preview?l.abort():(y.data=y.data[0],Y(y,K))}}}function ue(R){return r.skipEmptyLines==="greedy"?R.join("").trim()==="":R.length===1&&R[0].length===0}function V(){return y&&g&&(oe("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+E.DefaultDelimiter+"'"),g=!1),r.skipEmptyLines&&(y.data=y.data.filter(function(R){return!ue(R)})),ne()&&function(){if(!y)return;function R(X,ie){H(r.transformHeader)&&(X=r.transformHeader(X,ie)),fe.push(X)}if(Array.isArray(y.data[0])){for(var D=0;ne()&&D<y.data.length;D++)y.data[D].forEach(R);y.data.splice(0,1)}else y.data.forEach(R)}(),function(){if(!y||!r.header&&!r.dynamicTyping&&!r.transform)return y;function R(X,ie){var F,j=r.header?{}:[];for(F=0;F<X.length;F++){var J=F,L=X[F];r.header&&(J=F>=fe.length?"__parsed_extra":fe[F]),r.transform&&(L=r.transform(L,J)),L=se(J,L),J==="__parsed_extra"?(j[J]=j[J]||[],j[J].push(L)):j[J]=L}return r.header&&(F>fe.length?oe("FieldMismatch","TooManyFields","Too many fields: expected "+fe.length+" fields but parsed "+F,P+ie):F<fe.length&&oe("FieldMismatch","TooFewFields","Too few fields: expected "+fe.length+" fields but parsed "+F,P+ie)),j}var D=1;return!y.data.length||Array.isArray(y.data[0])?(y.data=y.data.map(R),D=y.data.length):y.data=R(y.data,0),r.header&&y.meta&&(y.meta.fields=fe),P+=D,y}()}function ne(){return r.header&&fe.length===0}function se(R,D){return X=R,r.dynamicTypingFunction&&r.dynamicTyping[X]===void 0&&(r.dynamicTyping[X]=r.dynamicTypingFunction(X)),(r.dynamicTyping[X]||r.dynamicTyping)===!0?D==="true"||D==="TRUE"||D!=="false"&&D!=="FALSE"&&(D.startsWith('"')?D.slice(1):function(ie){if(A.test(ie)){var F=parseFloat(ie);if(k<F&&F<w)return!0}return!1}(D)?parseFloat(D):re.test(D)?new Date(D):D===""?null:D):D;var X}function oe(R,D,X,ie){var F={type:R,code:D,message:X};ie!==void 0&&(F.row=ie),y.errors.push(F)}this.parse=function(R,D,X){var ie=r.quoteChar||'"';if(r.newline||(r.newline=function(J,L){J=J.substring(0,1048576);var De=new RegExp(Se(L)+"([^]*?)"+Se(L),"gm"),Ee=(J=J.replace(De,"")).split("\r"),pe=J.split(`
`),Ie=1<pe.length&&pe[0].length<Ee[0].length;if(Ee.length===1||Ie)return`
`;for(var Oe=0,be=0;be<Ee.length;be++)Ee[be][0]===`
`&&Oe++;return Oe>=Ee.length/2?`\r
`:"\r"}(R,ie)),g=!1,r.delimiter)H(r.delimiter)&&(r.delimiter=r.delimiter(R),y.meta.delimiter=r.delimiter);else{var F=function(J,L,De,Ee,pe){var Ie,Oe,be,de;pe=pe||[",","	","|",";",E.RECORD_SEP,E.UNIT_SEP];for(var Fe=0;Fe<pe.length;Fe++){var ae=pe[Fe],Ce=0,xe=0,Qe=0;be=void 0;for(var Ne=new ve({comments:Ee,delimiter:ae,newline:L,preview:10}).parse(J),qe=0;qe<Ne.data.length;qe++)if(De&&ue(Ne.data[qe]))Qe++;else{var ze=Ne.data[qe].length;xe+=ze,be!==void 0?0<ze&&(Ce+=Math.abs(ze-be),be=ze):be=ze}0<Ne.data.length&&(xe/=Ne.data.length-Qe),(Oe===void 0||Ce<=Oe)&&(de===void 0||de<xe)&&1.99<xe&&(Oe=Ce,Ie=ae,de=xe)}return{successful:!!(r.delimiter=Ie),bestDelimiter:Ie}}(R,r.newline,r.skipEmptyLines,r.comments,r.delimitersToGuess);F.successful?r.delimiter=F.bestDelimiter:(g=!0,r.delimiter=E.DefaultDelimiter),y.meta.delimiter=r.delimiter}var j=Me(r);return r.preview&&r.header&&j.preview++,i=R,l=new ve(j),y=l.parse(i,D,X),V(),C?{meta:{paused:!0}}:y||{meta:{paused:!1}}},this.paused=function(){return C},this.pause=function(){C=!0,l.abort(),i=H(r.chunk)?"":i.substring(l.getCharIndex())},this.resume=function(){K.streamer._halted?(C=!1,K.streamer.parseChunk(i,!0)):setTimeout(K.resume,3)},this.aborted=function(){return ce},this.abort=function(){ce=!0,l.abort(),y.meta.aborted=!0,H(r.complete)&&r.complete(y),i=""}}function Se(r){return r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ve(r){var i,l=(r=r||{}).delimiter,g=r.newline,w=r.comments,k=r.step,A=r.preview,re=r.fastMode,K=i=r.quoteChar===void 0||r.quoteChar===null?'"':r.quoteChar;if(r.escapeChar!==void 0&&(K=r.escapeChar),(typeof l!="string"||-1<E.BAD_DELIMITERS.indexOf(l))&&(l=","),w===l)throw new Error("Comment character same as delimiter");w===!0?w="#":(typeof w!="string"||-1<E.BAD_DELIMITERS.indexOf(w))&&(w=!1),g!==`
`&&g!=="\r"&&g!==`\r
`&&(g=`
`);var m=0,P=!1;this.parse=function(C,ce,fe){if(typeof C!="string")throw new Error("Input must be a string");var y=C.length,Y=l.length,ue=g.length,V=w.length,ne=H(k),se=[],oe=[],R=[],D=m=0;if(!C)return de();if(re||re!==!1&&C.indexOf(i)===-1){for(var X=C.split(g),ie=0;ie<X.length;ie++){if(R=X[ie],m+=R.length,ie!==X.length-1)m+=g.length;else if(fe)return de();if(w&&R.substring(0,V)===w)Be.push(R);else{if(ne){if(se=[],pe(R.split(l)),Fe(),P)return de()}else pe(R.split(l));if(A&&A<=ie)return se=se.slice(0,A),de(!0)}}return de()}for(var F=C.indexOf(l,m),j=C.indexOf(g,m),J=new RegExp(Se(K)+Se(i),"g"),L=C.indexOf(i,m);;)if(C[m]!==i)if(w&&R.length===0&&C.substring(m,m+V)===w){if(j===-1)return de();m=j+ue,j=C.indexOf(g,m),F=C.indexOf(l,m)}else if(F!==-1&&(F<j||j===-1))R.push(C.substring(m,F)),m=F+Y,F=C.indexOf(l,m);else{if(j===-1)break;if(R.push(C.substring(m,j)),be(j+ue),ne&&(Fe(),P))return de();if(A&&se.length>=A)return de(!0)}else for(L=m,m++;;){if((L=C.indexOf(i,L+1))===-1)return fe||oe.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:se.length,index:m}),Oe();if(L===y-1)return Oe(C.substring(m,L).replace(J,i));if(i!==K||C[L+1]!==K){if(i===K||L===0||C[L-1]!==K){F!==-1&&F<L+1&&(F=C.indexOf(l,L+1)),j!==-1&&j<L+1&&(j=C.indexOf(g,L+1));var De=Ie(j===-1?F:Math.min(F,j));if(C.substr(L+1+De,Y)===l){R.push(C.substring(m-1,L).replace(J,i)),C[m=L+1+De+Y]!==i&&(L=C.indexOf(i,m)),F=C.indexOf(l,m),j=C.indexOf(g,m);break}var Ee=Ie(j);if(C.substring(L+1+Ee,L+1+Ee+ue)===g){if(R.push(C.substring(m-1,L).replace(J,i)),be(L+1+Ee+ue),F=C.indexOf(l,m),L=C.indexOf(i,m),ne&&(Fe(),P))return de();if(A&&se.length>=A)return de(!0);break}oe.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:se.length,index:m}),L++}}else L++}return Oe();function pe(ae){se.push(ae),D=m}function Ie(ae){var Ce=0;if(ae!==-1){var xe=C.substring(L+1,ae);xe&&xe.trim()===""&&(Ce=xe.length)}return Ce}function Oe(ae){return fe||(ae===void 0&&(ae=C.substring(m)),R.push(ae),m=y,pe(R),ne&&Fe()),de()}function be(ae){m=ae,pe(R),R=[],j=C.indexOf(g,m)}function de(ae){var Ce=JSON.parse(JSON.stringify(Be));return{data:se,errors:oe,comments:Ce,meta:{delimiter:l,linebreak:g,aborted:P,truncated:!!ae,cursor:D+(ce||0)}}}function Fe(){k(de()),se=[],oe=[]}},this.abort=function(){P=!0},this.getCharIndex=function(){return m}}function $e(r){var i=r.data,l=ee[i.workerId],g=!1;if(i.error)l.userError(i.error,i.file);else if(i.results&&i.results.data){var w={abort:function(){g=!0,je(i.workerId,{data:[],comments:[],errors:[],meta:{aborted:!0}})},pause:he,resume:he};if(H(l.userStep)){for(var k=0;k<i.results.data.length&&(l.userStep({data:i.results.data[k],errors:i.results.errors,comments:i.results.comments,meta:i.results.meta},w),!g);k++);delete i.results}else H(l.userChunk)&&(l.userChunk(i.results,w,i.file),delete i.results)}i.finished&&!g&&je(i.workerId,i.results)}function je(r,i){var l=ee[r];H(l.userComplete)&&l.userComplete(i),l.terminate(),delete ee[r]}function he(){throw new Error("Not implemented.")}function Me(r){if(typeof r!="object"||r===null)return r;var i=Array.isArray(r)?[]:{};for(var l in r)i[l]=Me(r[l]);return i}function _e(r,i){return function(){r.apply(i,arguments)}}function H(r){return typeof r=="function"}return G&&(v.onmessage=function(r){var i=r.data;if(E.WORKER_ID===void 0&&i&&(E.WORKER_ID=i.workerId),typeof i.input=="string")v.postMessage({workerId:E.WORKER_ID,results:E.parse(i.input,i.config),finished:!0});else if(v.File&&i.input instanceof File||i.input instanceof Object){var l=E.parse(i.input,i.config);l&&v.postMessage({workerId:E.WORKER_ID,results:l,finished:!0})}}),(Ae.prototype=Object.create(le.prototype)).constructor=Ae,(ke.prototype=Object.create(le.prototype)).constructor=ke,(Te.prototype=Object.create(Te.prototype)).constructor=Te,(Ze.prototype=Object.create(le.prototype)).constructor=Ze,E})})(dt);var Nt=dt.exports,Pt=st(Nt);let Le=null,Ye={};Mt({clear(){Le=null,Ye={}},async setZipFile(f){const{BATTERY_URL:p,runId:x,zipFolder:v,whichZip:S}=f;if(S in Ye){console.log("### Using cache",S),Le=Ye[S];return}const G=`${p}${x}/${v}/${S}.zip`;console.log("###",G);const Q=await(await fetch(G)).blob();await jt.unzip(Q).then(E=>{Le=E,Ye[x]=Le})},extractFile(f){if(!Le)return;let p=Le.extractAsText(f);return Pt.parse(p,{header:!0,dynamicTyping:!0,skipEmptyLines:!0,delimitersToGuess:["	",";",","," "]})},extractRawText(f){return Le?Le.extractAsText(f):void 0},hasFile(f){return Le?Le.files.hasOwnProperty(f):!1}})})();
//# sourceMappingURL=zipExtractor.worker-C39zL1zA.js.map
